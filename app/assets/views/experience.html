<section class="experience__group" id="experience">
    <!--<section ng-if="ExperienceCtrl.showWelcome" ng-include="'assets/views/partials/welcome.html'"></section>
    <section ng-if="ExperienceCtrl.showWizard" ng-controller="WizardController" ng-include="'assets/views/partials/wizard.html'"></section>-->

    <!-- appbar directive start-->
    <section class="appbar__group">
        <input class="appbar__title tk--copy" type="text" name="project-title" id="project-title" placeholder="My Screenjack Title" ng-model="AppCtrl.experience.title">
            <button class="appbar__save-title-btn tk--hdr" title="OK" id="project-title-okbtn">OK</button>
        <button class="appbar__button appbar__preview-btn tk--hdr" title="Preview">Preview</button>
        <button class="appbar__button appbar__savepub-btn tk--hdr" title="Save &amp; Publish">Save &amp; Publish</button>
    </section>
    <!-- appbar directive end-->

    <c6-screenjack-player
        class="stage__group"
        src="{{AppCtrl.videoSrc}}"
        annotations="ExperienceCtrl.annotations">
    </c6-screenjack-player>
</section>

<!-- these scripts should be moved somewhere more appropriate, and intergated with angular if possible -->
<script>
    var toggleTitleOk = function () {
        var input$ = $('#project-title'),
            okBtn$ = $('#project-title-okbtn'),
            okFocusClass = 'appbar__save-title-btn--focus'; 

        // Show OK Button
        input$.click(function() {
            if (!okBtn$.hasClass(okFocusClass)) {
                okBtn$.addClass(okFocusClass);
            };
        });

        // Hide OK Button
        $(document).mouseup(function(e) {
            if (!input$.is(e.target) && okBtn$.hasClass(okFocusClass)) {
                okBtn$.toggleClass(okFocusClass);
            };
        });
    }();
</script>
